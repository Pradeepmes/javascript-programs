<!DOCTYPE html>
<html>
<body>

<h2>debounce</h2>


<input type="text" id="search" placeholder="Search users..." />

<ul id="result">

</ul>


</body>
<script>
function debounce(func, delay) {
  let timer;
  return function (...args) {
    clearTimeout(timer);
    timer = setTimeout(() => {
      func.apply(this, args);
    }, delay);
  };
}

async function fetchUsers(query) {
  if (!query) return;
  try {
    const response = await fetch(`https://jsonplaceholder.typicode.com/users?name_like=${query}`);
    const data = await response.json();
    console.log("API Response:", data);
    const resultList = document.getElementById("result");
    resultList.innerHTML = data.map(user => `<li>${user.name}</li>`).join('');
    
  } catch (error) {
    console.error("Error fetching data:", error);
  }
}

// ✅ Debounced API function
const debouncedFetchUsers = debounce(fetchUsers, 600);

// ✅ Input listener
document.getElementById("search").addEventListener("input", (e) => {
  debouncedFetchUsers(e.target.value);
});

</script>
</html>
